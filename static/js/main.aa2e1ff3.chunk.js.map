{"version":3,"sources":["components/Button/Button.jsx","components/Home/Home.jsx","helpers/QuizHelper.js","components/Quiz/Quiz.jsx","App.js","index.js"],"names":["Button","props","clickEvent","className","onClick","children","Home","history","push","QuizHelper","question","correctAnswer","incorrectAnswers","this","answer","_","shuffle","axios","get","response","data","results","quizDataList","map","result","he","decode","correct_answer","incorrect_answers","quizData","console","log","message","Quiz","onClickHandler","quiz","state","currentIndex","numberOfCorrects","answerChecker","window","alert","setState","quizzes","answers","initAndFetchData","quizfetcher","length","renderLoading","renderQuiz","renderResult","to","shuffleAnswers","index","key","Component","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aa2e1ff3.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Button.css\";\n\n\nconst Button = (props) => {\n    let { clickEvent } = props; \n    return (\n        <div className=\"Button\" onClick={clickEvent}>\n            {props.children}\n        </div>\n    );\n}\n\nButton.propTypes = {\n  clickEvent: PropTypes.func.isRequired,\n  children: PropTypes.string.isRequired\n};\n\nexport default Button;","import React from \"react\";\nimport Button from \"../Button/Button\";\n\nfunction Home({ history }) {\n  return (\n    <div>\n      <h1>ホーム</h1>\n      <Button\n        clickEvent={() => {\n          history.push(\"/quiz\");\n        }}\n      >\n        クイズページへ移動\n      </Button>\n    </div>\n  );\n}\n\nexport default Home;\n","import _ from \"lodash\";\nimport he from 'he';\nimport axios from 'axios';\n\nconst API_URL = \"https://opentdb.com/api.php?amount=10&type=multiple\";\n\nclass QuizHelper {\n    constructor({ question, correctAnswer, incorrectAnswers }) {\n        this.question = question;\n        this.correctAnswer = correctAnswer;\n        this.incorrectAnswers = [...incorrectAnswers];\n    }\n\n    static async quizfetcher() {\n        try {\n            const response = await axios.get(API_URL);\n            const quizDataList = await response.data.results;\n            return quizDataList.map(result => {\n                return {\n                    question: he.decode(result.question),\n                    correctAnswer: he.decode(result.correct_answer),\n                    incorrectAnswers: result.incorrect_answers.map(data => he.decode(data))\n                };\n            })\n                .map(quizData => {\n                    return new QuizHelper(quizData);\n                });\n        } catch (e) {\n            console.log(`faild to fetchData at QuizHelper! error message : ${e.message}`)\n        }\n    }\n\n    answerChecker(answer) {\n        return answer === this.correctAnswer;\n    }\n\n    shuffleAnswers() {\n        return _.shuffle([\n            this.correctAnswer,\n            ...this.incorrectAnswers\n        ]);\n    }\n\n}\n\nexport default QuizHelper;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport QuizHelper from \"../../helpers/QuizHelper\";\nimport Button from '../Button/Button';\nimport './Quiz.css';\n\nclass Quiz extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      quizzes: [],\n      answers: [],\n      currentIndex: 0,\n      numberOfCorrects: 0\n    };\n  }\n\n  componentDidMount() {\n    this.initAndFetchData();\n  }\n\n  async initAndFetchData() {\n    this.setState({\n      quizzes: [],\n      currentIndex: 0,\n      numberOfCorrects: 0\n    });\n    const quizzes = await QuizHelper.quizfetcher();\n    this.setState({ quizzes });\n  }\n\n  render() {\n    const { quizzes, currentIndex } = this.state;\n      /* now loading */\n    if (quizzes.length === 0) {\n      return this.renderLoading();\n    }\n\n      /* playing the quiz */\n    if (quizzes.length > 0 && currentIndex < quizzes.length) {\n        return this.renderQuiz();\n    }\n \n    /* finish the quiz */\n    if (quizzes.length > 0 && currentIndex >= quizzes.length) {\n        return this.renderResult();\n    }\n  }\n\n  renderLoading() {\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <p>Now loading...</p>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderQuiz() {\n    const { currentIndex, quizzes } = this.state;\n    const quiz = quizzes[currentIndex];\n    const answers = quiz.shuffleAnswers().map((answer, index) => {\n      return (\n        <li key={index}>\n          <Button clickEvent={() => this.onClickHandler(quiz, answer)}>\n            {answer}\n          </Button>\n        </li>\n      );\n    });\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p>{quiz.question}</p>\n          <ul className=\"QuizList\">{answers}</ul>\n        </div>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderResult() {\n    const { quizzes, numberOfCorrects } = this.state;\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p>{`${numberOfCorrects}/${quizzes.length} corrects.`}</p>\n          <Button\n            clickEvent={() => {\n              this.initAndFetchData();\n            }}\n          >\n            Restart\n          </Button>\n        </div>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  onClickHandler = (quiz, answer) => {\n    let { currentIndex, numberOfCorrects } = this.state;\n    const isCorrect = quiz.answerChecker(answer);\n    if (isCorrect) {\n      numberOfCorrects++;\n      window.alert(\"Correct answer!!\");\n    } else {\n      window.alert(\n        `Incorrect answer!! (Correct answer is ...${quiz.correctAnswer})`\n      );\n    }\n    currentIndex++;\n    this.setState({\n      currentIndex,\n      numberOfCorrects\n    });\n  };\n}\n\nexport default Quiz;\n","import React from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport Home from './components/Home/Home';\nimport Quiz from './components/Quiz/Quiz';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path='/' exact component={Home} />\n        <Route path='/Quiz/' exact component={Quiz} />\n      </Router >\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}